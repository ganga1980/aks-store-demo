apiVersion: v1
kind: ConfigMap
metadata:
  name: customer-agent-config
  namespace: pets
  labels:
    app: customer-agent
    app.kubernetes.io/name: customer-agent
    app.kubernetes.io/component: config
    app.kubernetes.io/part-of: aks-store-demo
data:
  # Azure AI Foundry Configuration
  # Replace with your Azure AI Foundry project endpoint
  AZURE_AI_PROJECT_ENDPOINT: "https://gangams-expense-agent-resource.services.ai.azure.com/api/projects/gangams-expense-agent"
  AZURE_AI_MODEL_DEPLOYMENT_NAME: "gpt-4o"

  # Authentication - Use Workload Identity
  USE_WORKLOAD_IDENTITY_AUTH: "true"

  # Backend Service URLs (internal cluster DNS)
  ORDER_SERVICE_URL: "http://order-service:3000"
  PRODUCT_SERVICE_URL: "http://product-service:3002"
  MAKELINE_SERVICE_URL: "http://makeline-service:3001"

  # OpenTelemetry Configuration
  OTEL_SERVICE_NAME: "customer-agent"
  OTEL_INSTRUMENTATION_GENAI_CAPTURE_MESSAGE_CONTENT: "true"

  # Chainlit Configuration
  CHAINLIT_HOST: "0.0.0.0"
  CHAINLIT_PORT: "8000"

  # Agent Configuration
  AGENT_NAME: "pet-store-customer-assistant"
  APP_VERSION: "1.0.0"

  # Cloud native cluster environment
  CLOUD_PROVIDER: "azure"
  CLOUD_PLATFORM: "azure_aks"
  CLOUD_REGION: "eastus2"
  CLUSTER_RESOURCE_ID: "/subscriptions/9b96ebbd-c57a-42d1-bbe9-b69296e4c7fb/resourcegroups/mrtathon2025-rg/providers/Microsoft.ContainerService/managedClusters/dev-aks"
  CLUSTER_NAME: "dev-aks"
